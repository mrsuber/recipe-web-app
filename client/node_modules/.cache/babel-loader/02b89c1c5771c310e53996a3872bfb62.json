{"ast":null,"code":"var _jsxFileName = \"/home/mohamad/Downloads/the_odin_project/code/MERN-stack-authentication/client/src/components/screens/PrivateScreen.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PrivateScreen = ({\n  history\n}) => {\n  _s();\n\n  const [error, setError] = useState(\"\");\n  const [privateData, setPrivateData] = useState(\"\");\n  useEffect(() => {\n    if (!localStorage.getItem(\"authToken\")) {\n      history.push(\"/login\");\n    }\n\n    const fetchPrivateData = async () => {\n      const config = {\n        header: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${localStorage.getItem(\"authToken\")}`\n        }\n      };\n\n      try {\n        const {\n          data\n        } = axios.get(\"/api/private\", config);\n        setPrivateData(data.data);\n      } catch (error) {\n        localStorage.removeItem(\"authToken\");\n        setError(\"You are not authorized please login\");\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"PrivateScreen\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PrivateScreen, \"+wvMUd4tYOIdlCBRjFRpdB5cyeo=\");\n\n_c = PrivateScreen;\nexport default PrivateScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"PrivateScreen\");","map":{"version":3,"sources":["/home/mohamad/Downloads/the_odin_project/code/MERN-stack-authentication/client/src/components/screens/PrivateScreen.js"],"names":["useState","useEffect","axios","PrivateScreen","history","error","setError","privateData","setPrivateData","localStorage","getItem","push","fetchPrivateData","config","header","data","get","removeItem"],"mappings":";;;AAAA,SAAQA,QAAR,EAAiBC,SAAjB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,aAAa,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAe;AAAA;;AACnC,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAkBN,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACO,WAAD,EAAaC,cAAb,IAA6BR,QAAQ,CAAC,EAAD,CAA3C;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACZ,QAAG,CAACQ,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAJ,EAAsC;AACpCN,MAAAA,OAAO,CAACO,IAAR,CAAa,QAAb;AACD;;AACD,UAAMC,gBAAgB,GAAG,YAAW;AAClC,YAAMC,MAAM,GAAG;AACbC,QAAAA,MAAM,EAAC;AACL,0BAAe,kBADV;AAEL,2BAAiB,UAASL,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkC;AAFvD;AADM,OAAf;;AAMA,UAAG;AACD,cAAM;AAACK,UAAAA;AAAD,YAASb,KAAK,CAACc,GAAN,CAAU,cAAV,EAAyBH,MAAzB,CAAf;AACAL,QAAAA,cAAc,CAACO,IAAI,CAACA,IAAN,CAAd;AACD,OAHD,CAGC,OAAMV,KAAN,EAAY;AACXI,QAAAA,YAAY,CAACQ,UAAb,CAAwB,WAAxB;AACAX,QAAAA,QAAQ,CAAC,qCAAD,CAAR;AACD;AACF,KAdD;AAeD,GAnBQ,EAmBP,EAnBO,CAAT;AAoBA,sBAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF;AAID,CA5BD;;GAAMH,a;;KAAAA,a;AA8BN,eAAeA,aAAf","sourcesContent":["import {useState,useEffect} from 'react'\nimport axios from 'axios'\n\nconst PrivateScreen = ({history}) => {\n  const [error,setError] =useState(\"\")\n  const [privateData,setPrivateData]=useState(\"\");\n\n  useEffect(()=>{\n    if(!localStorage.getItem(\"authToken\")){\n      history.push(\"/login\")\n    }\n    const fetchPrivateData = async () =>{\n      const config = {\n        header:{\n          \"Content-Type\":\"application/json\",\n          \"Authorization\":`Bearer ${localStorage.getItem(\"authToken\")}`\n        }\n      }\n      try{\n        const {data} = axios.get(\"/api/private\",config)\n        setPrivateData(data.data)\n      }catch(error){\n        localStorage.removeItem(\"authToken\")\n        setError(\"You are not authorized please login\")\n      }\n    }\n  },[])\n  return (\n\n    <div>PrivateScreen</div>\n  )\n}\n\nexport default PrivateScreen\n"]},"metadata":{},"sourceType":"module"}