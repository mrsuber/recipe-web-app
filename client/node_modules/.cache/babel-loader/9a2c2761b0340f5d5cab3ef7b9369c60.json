{"ast":null,"code":"import _regeneratorRuntime from\"/home/mohamad/Downloads/the_odin_project/code/MERN-stack-authentication/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mohamad/Downloads/the_odin_project/code/MERN-stack-authentication/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/mohamad/Downloads/the_odin_project/code/MERN-stack-authentication/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./ForgotPasswordScreen.css';import axios from'axios';import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ForgotPasswordScreen=function ForgotPasswordScreen(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var forgotPasswordHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();config={header:{\"Content-Type\":\"application/json\"}};_context.prev=2;_context.next=5;return axios.post(\"/api/auth/forgotpassword\",{email:email},config);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setSuccess(data.data);_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);setError(_context.t0.response.data.error);setEmail(\"\");setTimeout(function(){setError(\"\");},5000);case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function forgotPasswordHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"forgotpassword-screen\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:forgotPasswordHandler,className:\"forgotpassword-screen_form\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"forgotpassword-screen_title\",children:\"Forgot Password\"}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"span\",{className:\"success-message\",children:success}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"forgotpassword-screen_subtext\",children:\"Please enter the email address you register your account with. We will send you reset password confirmation to this email\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,id:\"email\",placeholder:\"Email address\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Send Email\"})]})});};export default ForgotPasswordScreen;","map":{"version":3,"sources":["/home/mohamad/Downloads/the_odin_project/code/MERN-stack-authentication/client/src/components/screens/ForgotPasswordScreen.js"],"names":["axios","useState","ForgotPasswordScreen","email","setEmail","error","setError","success","setSuccess","forgotPasswordHandler","e","preventDefault","config","header","post","data","response","setTimeout","target","value"],"mappings":"geAAA,MAAO,4BAAP,CACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,KAAuB,OAAvB,C,wFAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CACjC,cAAsBD,QAAQ,CAAC,EAAD,CAA9B,wCAAME,KAAN,eAAYC,QAAZ,eACA,eAAsBH,QAAQ,CAAC,EAAD,CAA9B,yCAAMI,KAAN,eAAYC,QAAZ,eACA,eAA0BL,QAAQ,CAAC,EAAD,CAAlC,yCAAMM,OAAN,eAAcC,UAAd,eAEA,GAAMC,CAAAA,qBAAqB,0FAAG,iBAAOC,CAAP,oJAC5BA,CAAC,CAACC,cAAF,GAEMC,MAHsB,CAGd,CACZC,MAAM,CAAC,CACL,eAAe,kBADV,CADK,CAHc,uCASRb,CAAAA,KAAK,CAACc,IAAN,CAAW,0BAAX,CAAsC,CAACX,KAAK,CAALA,KAAD,CAAtC,CAA+CS,MAA/C,CATQ,wCASpBG,IAToB,mBASpBA,IAToB,CAU1BP,UAAU,CAACO,IAAI,CAACA,IAAN,CAAV,CAV0B,iFAY1BT,QAAQ,CAAC,YAAMU,QAAN,CAAeD,IAAf,CAAoBV,KAArB,CAAR,CACAD,QAAQ,CAAC,EAAD,CAAR,CACAa,UAAU,CAAC,UAAI,CACbX,QAAQ,CAAC,EAAD,CAAR,CACD,CAFS,CAER,IAFQ,CAAV,CAd0B,qEAAH,kBAArBG,CAAAA,qBAAqB,4CAA3B,CAmBA,mBACE,YAAK,SAAS,CAAC,uBAAf,uBACE,cAAM,QAAQ,CAAEA,qBAAhB,CAAuC,SAAS,CAAC,4BAAjD,wBACE,WAAI,SAAS,CAAC,6BAAd,6BADF,CAEGJ,KAAK,eAAG,aAAM,SAAS,CAAC,eAAhB,UAAiCA,KAAjC,EAFX,CAGGE,OAAO,eAAI,aAAM,SAAS,CAAC,iBAAhB,UAAmCA,OAAnC,EAHd,cAIE,aAAK,SAAS,CAAC,YAAf,wBACE,UAAG,SAAS,CAAC,+BAAb,uIADF,cAIE,cAAO,OAAO,CAAC,OAAf,oBAJF,cAKE,cAAO,IAAI,CAAC,OAAZ,CAAoB,QAAQ,KAA5B,CAA6B,EAAE,CAAC,OAAhC,CAAwC,WAAW,CAAC,eAApD,CAAoE,KAAK,CAAEJ,KAA3E,CAAkF,QAAQ,CAAE,kBAACO,CAAD,QAAKN,CAAAA,QAAQ,CAACM,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAb,EAA5F,EALF,GAJF,cAWE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,wBAXF,GADF,EADF,CAiBD,CAzCD,CA2CA,cAAejB,CAAAA,oBAAf","sourcesContent":["import './ForgotPasswordScreen.css'\nimport axios from 'axios'\nimport {useState} from \"react\"\n\nconst ForgotPasswordScreen = () => {\n  const[email,setEmail]=useState(\"\")\n  const[error,setError]=useState(\"\")\n  const[success,setSuccess]=useState(\"\");\n\n  const forgotPasswordHandler = async (e)=>{\n    e.preventDefault()\n\n    const config ={\n      header:{\n        \"Content-Type\":\"application/json\",\n      },\n    }\n    try{\n      const{data}=await axios.post(\"/api/auth/forgotpassword\",{email}, config )\n      setSuccess(data.data)\n    }catch(error){\n      setError(error.response.data.error);\n      setEmail(\"\")\n      setTimeout(()=>{\n        setError(\"\")\n      },5000)\n    }\n  }\n  return (\n    <div className=\"forgotpassword-screen\">\n      <form onSubmit={forgotPasswordHandler} className=\"forgotpassword-screen_form\">\n        <h3 className=\"forgotpassword-screen_title\">Forgot Password</h3>\n        {error &&<span className=\"error-message\">{error}</span>}\n        {success && <span className=\"success-message\">{success}</span>}\n        <div className=\"form-group\">\n          <p className=\"forgotpassword-screen_subtext\">\n          Please enter the email address you register your account with. We will send you reset password confirmation to this email\n          </p>\n          <label htmlFor=\"email\">Email:</label>\n          <input type=\"email\" required id=\"email\" placeholder=\"Email address\" value={email} onChange={(e)=>setEmail(e.target.value)}/>\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">Send Email</button>\n      </form>\n    </div>\n  )\n}\n\nexport default ForgotPasswordScreen\n"]},"metadata":{},"sourceType":"module"}