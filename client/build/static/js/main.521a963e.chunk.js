(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),n=a(26),c=a.n(n),o=(a(34),a(10)),i=a(3),l=a(12),u=a(29),j=a(0),d=["component"],p=function(e){var t=e.component,a=Object(u.a)(e,d);return Object(j.jsx)(i.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return localStorage.getItem("authToken")?Object(j.jsx)(t,Object(l.a)({},e)):Object(j.jsx)(i.a,{to:"/login"})}}))},b=a(4),m=a.n(b),h=a(8),O=a(2),f=a(9),x=a.n(f),g=function(e){var t=e.history,a=Object(r.useState)(""),s=Object(O.a)(a,2),n=s[0],c=s[1],o=Object(r.useState)(""),i=Object(O.a)(o,2),l=i[0],u=i[1];Object(r.useEffect)((function(){localStorage.getItem("authToken")||t.push("/login"),function(){var e=Object(h.a)(m.a.mark((function e(){var t,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},e.prev=1,e.next=4,x.a.get("/api/private",t);case 4:a=e.sent,r=a.data,u(r.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),localStorage.removeItem("authToken"),c("You are not authorized please login");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[t]);return n?Object(j.jsx)("span",{className:"error-message",children:n}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{style:{background:"green",color:"white"},children:["PrivateData:",l]}),Object(j.jsx)("button",{onClick:function(){localStorage.removeItem("authToken"),t.push("/login")},children:"Logout"})]})},v=(a(64),function(e){var t=e.history,a=Object(r.useState)(""),s=Object(O.a)(a,2),n=s[0],c=s[1],i=Object(r.useState)(""),l=Object(O.a)(i,2),u=l[0],d=l[1],p=Object(r.useState)(""),b=Object(O.a)(p,2),f=b[0],g=b[1];Object(r.useEffect)((function(){localStorage.getItem("authToken")&&t.push("/")}),[t]);var v=function(){var e=Object(h.a)(m.a.mark((function e(a){var r,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,x.a.post("/api/auth/login",{email:n,password:u},r);case 5:s=e.sent,c=s.data,localStorage.setItem("authToken",c.token),t.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),g(e.t0.response.data.error),setTimeout((function(){g("")}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"login-screen",children:Object(j.jsxs)("form",{onSubmit:v,className:"login-screen_form",children:[Object(j.jsx)("h3",{className:"login-screen_title",children:"Login"}),f&&Object(j.jsx)("span",{className:"error-message",children:f}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(j.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Enter email",value:n,onChange:function(e){return c(e.target.value)},tabIndex:1})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsxs)("label",{htmlFor:"password",children:["Password:",Object(j.jsx)(o.b,{to:"/forgotpassword",className:"login-screen_forgotpassword",tapIndex:4,children:"Forgot Password?"})]}),Object(j.jsx)("input",{type:"password",required:!0,id:"password",placeholder:"Enter Password",value:u,onChange:function(e){return d(e.target.value)},tabIndex:2})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",tabIndex:3,children:"Login"}),Object(j.jsxs)("span",{className:"login-screen_subtext",children:["Don't have an account? ",Object(j.jsx)(o.b,{to:"/register",children:"Register"})]})]})})}),w=(a(65),function(e){var t=e.history,a=Object(r.useState)(""),s=Object(O.a)(a,2),n=s[0],c=s[1],i=Object(r.useState)(""),l=Object(O.a)(i,2),u=l[0],d=l[1],p=Object(r.useState)(""),b=Object(O.a)(p,2),f=b[0],g=b[1],v=Object(r.useState)(""),w=Object(O.a)(v,2),N=w[0],y=w[1],S=Object(r.useState)(""),k=Object(O.a)(S,2),T=k[0],C=k[1];Object(r.useEffect)((function(){localStorage.getItem("authToken")&&t.push("/")}),[t]);var P=function(){var e=Object(h.a)(m.a.mark((function e(a){var r,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r={header:{"Content-Type":"application/json"}},f===N){e.next=7;break}return g(""),y(""),setTimeout((function(){C("")}),5e3),e.abrupt("return",C("Password do not match"));case 7:return e.prev=7,e.next=10,x.a.post("/api/auth/register",{username:n,email:u,password:f},r);case 10:s=e.sent,c=s.data,localStorage.setItem("authToken",c.token),t.push("/"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),C(e.t0.response.data.error),setTimeout((function(){C("")}),5e3);case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"register-screen",children:Object(j.jsxs)("form",{onSubmit:P,className:"register-screen_form",children:[Object(j.jsx)("h3",{className:"register-screen_title",children:"Register"}),T&&Object(j.jsx)("span",{className:"error-message",children:T}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Username:"}),Object(j.jsx)("input",{type:"text",required:!0,id:"name",placeholder:"Enter Username",value:n,onChange:function(e){return c(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(j.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Enter email",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(j.jsx)("input",{type:"password",required:!0,id:"password",placeholder:"Enter Password",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"confirmpassword",children:"Confirm Password:"}),Object(j.jsx)("input",{type:"password",required:!0,id:"confirmpassword",placeholder:"Confirm Password",value:N,onChange:function(e){return y(e.target.value)}})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register"}),Object(j.jsxs)("span",{className:"register-screen_subtext",children:["Already have an account? ",Object(j.jsx)(o.b,{to:"/login",children:"Login"})]})]})})}),N=(a(66),function(){var e=Object(r.useState)(""),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)(""),c=Object(O.a)(n,2),o=c[0],i=c[1],l=Object(r.useState)(""),u=Object(O.a)(l,2),d=u[0],p=u[1],b=function(){var e=Object(h.a)(m.a.mark((function e(t){var r,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,x.a.post("/api/auth/forgotpassword",{email:a},r);case 5:n=e.sent,c=n.data,p(c.data),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),i(e.t0.response.data.error),s(""),setTimeout((function(){i("")}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"forgotpassword-screen",children:Object(j.jsxs)("form",{onSubmit:b,className:"forgotpassword-screen_form",children:[Object(j.jsx)("h3",{className:"forgotpassword-screen_title",children:"Forgot Password"}),o&&Object(j.jsx)("span",{className:"error-message",children:o}),d&&Object(j.jsx)("span",{className:"success-message",children:d}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("p",{className:"forgotpassword-screen_subtext",children:"Please enter the email address you register your account with. We will send you reset password confirmation to this email"}),Object(j.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(j.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Email address",value:a,onChange:function(e){return s(e.target.value)}})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send Email"})]})})}),y=(a(67),function(e){var t=e.match,a=Object(r.useState)(""),s=Object(O.a)(a,2),n=s[0],c=s[1],i=Object(r.useState)(""),l=Object(O.a)(i,2),u=l[0],d=l[1],p=Object(r.useState)(""),b=Object(O.a)(p,2),f=b[0],g=b[1],v=Object(r.useState)(""),w=Object(O.a)(v,2),N=w[0],y=w[1],S=function(){var e=Object(h.a)(m.a.mark((function e(a){var r,s,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r={header:{"Content-Type":"application/json"}},n===u){e.next=7;break}return c(""),d(""),setTimeout((function(){g("")}),5e3),e.abrupt("return",g("Passwords don't match"));case 7:return e.prev=7,e.next=10,x.a.put("/api/auth/resetpassword/".concat(t.params.resetToken),{password:n},r);case 10:s=e.sent,o=s.data,y(o.data),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),g(e.t0.response.data.error),setTimeout((function(){g("")}),5e3);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"resetpassword-screen",children:Object(j.jsxs)("form",{onSubmit:S,className:"resetpassword-screen_form",children:[Object(j.jsx)("h3",{className:"resetpassword-screen_title",children:"Reset Password"}),f&&Object(j.jsx)("span",{className:"error-message",children:f}),N&&Object(j.jsxs)("span",{className:"success-message",children:[N,Object(j.jsx)(o.b,{to:"/login",children:"Login"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"password",children:"New Password"}),Object(j.jsx)("input",{type:"password",required:!0,id:"password",placeholder:"Enter new password",value:n,onChange:function(e){return c(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"confirmpassword",children:"Confirm New Password"}),Object(j.jsx)("input",{type:"password",required:!0,id:"confirmpassword",placeholder:"Confirm new password",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reset Password"})]})})}),S=function(){return Object(j.jsx)(o.a,{children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(i.d,{children:[Object(j.jsx)(p,{exact:!0,path:"/",component:g}),Object(j.jsx)(i.b,{exact:!0,path:"/login",component:v}),Object(j.jsx)(i.b,{exact:!0,path:"/register",component:w}),Object(j.jsx)(i.b,{exact:!0,path:"/forgotpassword",component:N}),Object(j.jsx)(i.b,{exact:!0,path:"/passwordreset/:resetToken",component:y})]})})})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,69)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),r(e),s(e),n(e),c(e)}))};c.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root")),k()}},[[68,1,2]]]);
//# sourceMappingURL=main.521a963e.chunk.js.map